(function(e){function t(t){if(!t.data("lemma"))return!1;var n=t.data("lemma").split(" "),r="",i="",s="",o="",u="",a="",f=[],l;e.each(n,function(n,r){if(r!=="G3588"){if(r!=="added"&&r!=="trans-change"){i=r;var c=reference.getClassName(r);osidStrongsNumber=r;s=stripPointing(strongsDictionary[osidStrongsNumber].lemma);o=strongsDictionary[osidStrongsNumber].strongs_def;u=strongsDictionary[osidStrongsNumber].kjv_def;a=t.text();f[n]=e(".wordControlPanelTemplate").clone().removeClass("wordControlPanelTemplate").addClass("wordControlPanel");f[n].find(".wordControlPanelStrongsNumber").addClass(c).text(i);f[n].find(".wordControlPanelLemma").text(s);f[n].find(".wordControlPanelEnglish").text(a);f[n].find(".wordControlPanelStrongsDef").text(o);f[n].find(".wordControlPanelKJVDef").text(u)}var h="";typeof strongsObjectWithFamilies[r]!="undefined"&&strongsObjectWithFamilies[r].roots?e.each(strongsObjectWithFamilies[r].roots,function(e,t){t.substring(0,1)==="H"&&(l="hebrew");t.substring(0,1)==="G"&&(l="greek");h+='<a href="#search='+t+'" class="'+reference.getClassName(t)+' word-tree" data-lemma="'+t+'" data-language="'+l+'">'+t+"</a> "}):h+="No roots";var p="";e.each(strongsObjectWithFamilies,function(t,n){e.each(n,function(e,n){if(n==r){t.substring(0,1)==="H"&&(l="hebrew");t.substring(0,1)==="G"&&(l="greek");p+='<a href="#search='+t+'" class="'+reference.getClassName(t)+' word-tree" data-lemma="'+t+'"  data-language="'+l+'">'+t+"</a> "}})});var d="";h===""?d+="<p>no roots</p>":d+="roots: "+h;var v="";p===""?v+="<p>no branches</p>":v+="branches: "+p;f[n].find("#wordTreeRoots").html(d);f[n].find("#wordTreeBranches").html(v);var m=reference.getClassName(r),g=parseInt(m.substring(1,m.length),10),y=getStrongsColor(g),b=getStrongsStyle(m,y);console.log(t.data("family"));f[n].find("style").html(b)}});e("#wordControlPanel").html(f).show();e.each(f,function(t,n){e("#wordControlPanel").append(n)})}e(document).on("click","#verse ol > li span",function(n){n.preventDefault();n.stopPropagation();t(e(this))});e(document).on("click",".wordControlPanel .close",function(t){t.preventDefault();e("#wordControlPanel").hide()})})(jQuery);